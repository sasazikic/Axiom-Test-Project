<div class="table-wrapper section" *ngIf="layoutType === 'table'">
  <div class="loader-text table" *ngIf="isTableLoading"></div>
  <table class="table">
    <tbody>
      <tr>
        <th *ngFor="let metric of metricInitial">{{metric | uppercase}}</th>
      </tr>
      <ng-container *ngFor="let item of tableData">
        <tr (click)="onCityClick($event, item.name)" *ngIf="item.name">
          <ng-container *ngFor="let metric of metricInitial">
            <td [attr.data-th]="metric">
              {{item[metric]}}
            </td>
          </ng-container>
        </tr>
      </ng-container>
    </tbody>
  </table>
</div>

<div class="card-wrapper section" *ngIf="layoutType === 'card'">
  <div class="loader-text card" *ngIf="isTableLoading"></div>
  <div class="card-item" (click)="onCityClick($event, item.name)" *ngFor="let item of tableData">
    <div class="data-wrap" *ngFor="let metric of metricInitial">
      <span class="card-metric">{{metric | uppercase}}: </span>
      <span class="card-data">{{item[metric]}}</span>
    </div>
  </div>
</div>



<div class="widget-wrapper">
  <div class="loader-text" *ngIf="isWidgetLoading; else widgetValues"></div>
  <ng-template #widgetValues>
    <span>Highest Temperature: {{widgetData.maxTemp}}</span>
    <span>Lowest Temperature: {{widgetData.minTemp}}</span>
    <span>Avg Humidity: {{widgetData.avgHumidity}}</span>
  </ng-template>
</div>

<span class="loader" *ngIf="isChartLoading"></span>
<div class="chart-wrapper section" #chartContainer>
  <app-chart  class="chart" *ngIf="!isChartLoading && chartData.length"
  [chartData]="chartData"
  [chartLabels]="chartLabels"
  [chartType]="chartType"
  >
  </app-chart> <!-- WIP, could be optimised  -->
</div>
